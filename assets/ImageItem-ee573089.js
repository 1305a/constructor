import{H as I,r as L,a as u,o as i,c as V,f as g,w as o,g as v,b as c,d,x as f,z as w,F as R,s as U}from"./index-f4451ba3.js";const F={__name:"ImageItem",props:["image","hideLabel"],setup(a){const p=a,b=I().params.testId,s=L(null),k=async()=>{var l,t;if(((l=s.value)==null?void 0:l.files.length)===0)return;const m=(t=s.value)==null?void 0:t.files[0];let e=new FormData;e.append("file",m);try{const n=await U.uploadFile(b,e);p.image.imageURL=n.data.data.url}catch(n){console.error(n)}},y=()=>{p.image.imageURL=""};return(m,e)=>{const l=u("el-button"),t=u("el-form-item"),n=u("el-input");return i(),V(R,null,[a.image.imageURL?f("",!0):(i(),g(t,{key:0,label:"Название картинки:"},{default:o(()=>[v("input",{type:"file",accept:".png, .jpg, .jpeg, .gif, .svg, .webp",ref_key:"fileInput",ref:s},null,512),c(l,{onClick:e[0]||(e[0]=r=>k())},{default:o(()=>[d("Загрузить")]),_:1})]),_:1})),a.image.imageURL?(i(),g(t,{key:1,label:"Название картинки:"},{default:o(()=>[d(w(a.image.imageURL),1),c(l,{type:"warning",onClick:e[1]||(e[1]=r=>y(m.index))},{default:o(()=>[d("Очистить")]),_:1})]),_:1})):f("",!0),a.hideLabel?f("",!0):(i(),g(t,{key:2,label:"Подпись картинки:"},{default:o(()=>[c(n,{modelValue:a.image.label,"onUpdate:modelValue":e[2]||(e[2]=r=>a.image.label=r)},null,8,["modelValue"])]),_:1}))],64)}}};export{F as default};
