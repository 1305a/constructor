import{z as y,d as I,r as u,o as c,c as V,b as f,w as o,a as v,f as s,j as g,l as p,t as w,F as R,s as U}from"./index-782ed727.js";const L={__name:"ImageItem",props:["imageData"],setup(a){const d=a,D=y().params.testId,i=I(null),b=async()=>{var l,t;if(((l=i.value)==null?void 0:l.files.length)===0)return;const m=(t=i.value)==null?void 0:t.files[0];let e=new FormData;e.append("file",m);try{const n=await U.uploadFile(D,e);d.imageData.imageURL=n.data.data.url}catch(n){console.error(n)}},k=()=>{d.imageData.imageURL=""};return(m,e)=>{const l=u("el-button"),t=u("el-form-item"),n=u("el-input");return c(),V(R,null,[a.imageData.imageURL?p("",!0):(c(),f(t,{key:0,label:"Название картинки:"},{default:o(()=>[v("input",{type:"file",accept:".png, .jpg, .jpeg, .gif, .svg, .webp",ref_key:"fileInput",ref:i},null,512),s(l,{onClick:e[0]||(e[0]=r=>b())},{default:o(()=>[g("Загрузить")]),_:1})]),_:1})),a.imageData.imageURL?(c(),f(t,{key:1,label:"Название картинки:"},{default:o(()=>[g(w(a.imageData.imageURL),1),s(l,{type:"warning",onClick:e[1]||(e[1]=r=>k(m.index))},{default:o(()=>[g("Очистить")]),_:1})]),_:1})):p("",!0),s(t,{label:"Подпись картинки:"},{default:o(()=>[s(n,{modelValue:a.imageData.label,"onUpdate:modelValue":e[2]||(e[2]=r=>a.imageData.label=r)},null,8,["modelValue"])]),_:1})],64)}}};export{L as default};
